<!-- experiencia -->

<br>
<br>
<main class="container">
  <div class="bg-light p-5 rounded">
   <h1>Experiencia</h1>

   <div class="text-right">
   <button type="button" class="btn btn-primary" data-bs-toggle="modal"  (click)="onOpenModal('add')" data-bs-target="#addExperienciaModal"> 
   <a class="nav-link" style="color:#fff">
   Añadir Experiencia<span class="sr-only">(current)</span></a>
   </button>
   </div>
 
   <div id="main-container">
   <div class="bg-light p-5 rounded" *ngFor="let experiencia of experiencias" > 
       <!-- Comienza la cuadricula -->   
    <div class="row">
     <div class="col-3">  
     <img class="foto-estudios" [src]="experiencia.imagenExp">    
     </div>
     <div class="col-6">
       <h2>{{experiencia.tituloExp}}</h2>
        {{experiencia.descExp}}        
     </div>  
            <!-- button editar lapiz -->
     <div class="col-3 text-right bg-light" >
               <h3>{{experiencia.fechaExp}}</h3>
                 <a  data-bs-toggle="modal" 
                 (click)="onOpenModal('edit',experiencia)"
                 data-bs-target="#editExperienciaModal"
                  class="btn btn-primary tooltips"
                  data-placement="top"
                  data-toggle="tooltip"
                  data-original-title="Edit"
                  ><i class="fa fa-pen"></i></a>
            <!-- button delete x -->
                <a data-bs-toggle="modal" 
                 (click)="onOpenModal('delete',experiencia)"
                 data-bs-target="#deleteModalLabel1"
 
                 class="btn btn-secondary tooltips"
                 data-placement="top"
                 data-toggle="tooltip"
                 data-original-title="delete"
                 ><i class="fa fa-times"></i></a>
                 </div>             
             </div>
           </div>       
         </div> 


    
    <!-- modal añadir experiencia -->
   <div class="modal fade" 
   id='addExperienciaModal'
    tabindex="-1" 
    role="dialog"    
    aria-labelledby='addExperienciaModalLabel' 
    aria-hidden="true" >
 
    <div class="modal-dialog" role="document">
 
     <div class="modal-content">
       <div class="modal-header">
         <h5 class="modal-title" id='addExperienciaModalLabel'> Añadir Experiencia</h5>
 
       <button 
       type="button" 
       class="close"
       data-bs-dismiss="modal" 
       aria-label="Close"> 
       <span aria-hidden="true">&times;</span>
      </button> 
 
    </div>
    <div class="modal-body">
      <form #addForm= "ngForm" (ngSubmit)="onAddExperiencia(addForm)">
     <div class="form-group">
      <label for="tituloExp">Titulo</label>
      <input type="text"
      ngModel
      name="tituloExp" 
      class="form-control"
       id="tituloExp" 
       placeholder="Titulo" 
      required>
     </div>
 
        <div class="form-group">
         <label for="fechaExp">Fecha</label>
         <input type="text"
         ngModel
         name="fechaExp"
          class="form-control" 
          id="fechaExp" 
          placeholder="Fecha" 
          required>
        </div>
 
        <div class="form-group">
         <label for="descExp">Descripcion</label>
         <input type="text"
         ngModel
         name="descExp"
          class="form-control" 
          id="descExp" 
          placeholder="Descripcion" 
          required>
        </div>
 
        <div class="form-group">
         <label for="imagenExp">Imagen</label>
         <input type="text"
         ngModel
         name="imagenExp" 
         class="form-control" 
         id="imagenExp" 
         placeholder="Imagen" 
         required>
 
        </div>
 
        <div class="modal-footer">
         <button
         type="button"
         
         aria-label="close"
         id="add-experiencia-form"
         class="btn btn-secondary"
         data-bs-dismiss="modal"
         >
         
         Cerrar
         </button>
         <button
         [disabled]="addForm.invalid"
         type="submit"
         class="btn btn-primary"
         >
         Añadir cambios
         </button>
        </div>
         </form>
       </div>
     </div>
 
    </div>
     
   </div>
 
     <!-- Modal edit experiencia -->
 
  <div class="modal fade" 
  id='editExperienciaModal'
  tabindex="-1" 
  role="dialog"    
  aria-labelledby='experienciaEditModalLabel' 
  aria-hidden="true" >
 
  <div class="modal-dialog" role="document">
 
   <div class="modal-content">
     <div class="modal-header">
       <h5 class="modal-title" 
       id='updateExperienciaModalLabel'
       > Edit Experiencia  {{editExperiencia?.tituloExp}}</h5>
 
     <button 
     type="button" 
     class="close"
     data-bs-dismiss="modal" 
     aria-label="Close"> 
     <span aria-hidden="true">&times;</span>
    </button> 
 
    </div>
     <div class="modal-body">
       <form #editForm= "ngForm">
      <div class="form-group">
       <label for="name">Titulo</label>
       <input type="text"
       ngModel="{{editExperiencia?.tituloExp}}"
       name="tituloExp" 
       class="form-control"
        id="tituloExp"
        aria-describedby="emailHelp" 
        placeholder="titulo" 
       >
      </div>
 
       <input type="hidden"
       ngModel="{{editExperiencia?.idExp}}"
       name="idExp"
        class="form-control" 
        id="idExp" 
        placeholder="" 
        >
      
 
      <div class="form-group">
       <label for="descExp">Descripcion</label>
       <input type="text"
       ngModel="{{editExperiencia?.descExp}}"
       name="descExp"
        class="form-control" 
        id="descExp" 
        placeholder="Descripcion" 
        >
      </div>
 
      <div class="form-group">
       <label for="fechaExp">fecha</label>
       <input type="text"
       ngModel="{{editExperiencia?.fechaExp}}"
       name="fechaExp" 
       class="form-control" 
       id="fechaExp" 
       placeholder="fecha" 
       >
 
      </div>
 
      <div class="form-group">
       <label for="imagenExp">Imagen url</label>
       <input type="text"
       ngModel="{{editExperiencia?.imagenExp}}"
       name="imagenExp" 
       class="form-control" 
       id="imagenExp" 
       placeholder="Imagen url" 
       >
 
      </div>
 
      <div class="modal-footer">
       <button
       type="button"
       id=""
       data-bs-dismiss="modal"
       class="btn btn-secondary"
       >
       close
       </button>
       <button
       (click)="onUpdateExperiencia(editForm.value)"
       data-bs-dismiss="modal"
       class="btn btn-primary"
       >
       Guardar  cambios
       </button>
      </div>
       </form>
     </div>
   </div>
 
   </div>
   
   
  </div>
    <!-- modal delete education -->
 
 <div  
  class="modal fade" 
  id='deleteModalLabel1'
  tabindex="-1" 
  role="dialog"    
  aria-labelledby='deleteModalLabel1' 
  aria-hidden="true">
 
  <div class="modal-dialog" role="document">
 
   <div class="modal-content">
     <div class="modal-header">
       <h5 class="modal-title" id='deleteModalLabel1'>Delete Experiencia</h5>
 
     <button 
     type="button" 
     class="close"
     data-bs-dismiss="modal" 
     aria-label="Close"> 
     <span aria-hidden="true">&times;</span>
    </button> 
 
    </div>
     <div class="modal-body">
       <p>
     ¿esta seguro que deseas eliminar esta Experiencia?
     {{deleteExperiencia?.tituloExp}}?
 
       </p>
 
    
 
      <div class="modal-footer">
       <button
       type="button"
       
       class="btn btn-secondary"
       data-bs-dismiss="modal"
       >
       NO
       </button>
       <button
       (click)="onDeleteExperiencia(deleteExperiencia!.idExp)"
       class="btn btn-primary"       
      data-bs-dismiss="modal"
       >
       Si 
       </button>
     </div>
      </div>
     
       
     </div>
   </div>
 
   </div>
 
    <!--mensaje -->
   <div *ngIf="experiencias?.length == 0" class="col-lg-12 col-mg-12 col-xl-12">
     <div class="alert alert-info" role="alert" >
       <h4 class="alert-heading">NO HAY EXPERIENCIAS!</h4>
       <P>EXPERIENCIAS NO ENCONTRADAS</P>
     </div>
   </div>


